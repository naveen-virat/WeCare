<div style="padding-top: 25px;"></div>

<div class="card-columns bmi" style="padding-top: 25px;"
  [hidden]="showRescheduleForm ||  rescheduleSuccess ||  cancelledSuccess">
  <div class="card bg-primary" *ngFor="let details of myScheduleDetails"
    style="height: min-content; padding-top: 15px;padding-bottom: 10px; border-radius: 20px;">
    <div class="card-body" style="padding: 0%;">
      <h4>Appointment Date: </h4>
      <h4>{{details.appointmentDate}}</h4>
      <h5>Slot: {{details.slot}}</h5>
    </div>
    <div class="card-body" style="padding: 0%;">
      <h6>Booking Id: {{details.bookingId}}</h6>
      <h6>User Id: {{details.userId}}</h6>
      <h6>Coach In: {{details.coachId}}</h6>
    </div>
    <div class="text-center" style="padding-bottom: 10px;">
        <button type="button" style="background-color: rgb(12, 215, 246); width: 220px;" (click)="showForm(details.bookingId)"
                class="btn btn-primary">
            Reschedule Appointment
        </button>
    </div>
    <div class="text-center" style="padding-bottom: 10px;">
        <button type="button" style="background-color: rgb(245,95,95); width: 220px;" class="btn btn-primary"
                data-toggle="modal" data-target="#deleteModal" data-whatever="details.id" (click)="showModal(details.bookingId)">
            Cancel Appointment
        </button>
    </div>
    <div class="text-center" style="padding-bottom: 10px;">
      <button type="button" style="background-color: rgb(32, 82, 246);width: 220px;" [routerLink]="['/user/home']"
        class="btn btn-primary">
        Go Back
      </button>
    </div>
    <!-- <a href="/user/home" style="width: 220px;" class-rote atn-primary">Go Back</a>-->
  </div>
</div>

<div *ngIf="myScheduleDetails.length==0" style="padding-top: 75px;">
  <div class="text-center">
    <img [src]="imgUrl" style="height: 100px;" class=" img-Flulid" alt="" />
    <h1>{{msg}}</h1>
  </div>
</div>

<!----------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------>

<!-- Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">

            <!-- <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
            </div>-->

            <div class="modal-body">
                {{c.cancelConfirm}}
            </div>

            <div class="modal-body">
                <div class="text-center">
                    <button type="button" class="btn" style="width: 150px; background-color: rgb(142, 242, 142);"
                            (click)="cancel()" data-dismiss="modal" data-toggle="modal" data-target="#deleteSuccess">
                        Yes
                    </button>
                    <button type="button" class="btn" style="width: 150px; background-color: rgb(255, 57, 42);"
                            data-dismiss="modal">
                        No
                    </button>
                </div>
            </div>

            <!--<div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary">Save changes</button>
            </div>-->
        </div>
    </div>
</div>

<!----------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------>

<div class="card bg-primary mmi" style="width: 30rem;padding-top: 18px;" [hidden]="!cancelledSuccess">
  <div class="card-body">
    <h5 class="card-title">{{c.appointmentCancelled}}</h5>
    <div class="text-center" style="padding-bottom: 10px;">
      <a href="/user/home" style="width: 220px;" class="btn btn-primary">Go Back</a>
    </div>
  </div>
</div>

<!----------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------>

<div *ngIf="showRescheduleForm" style="padding-top: 35px" [hidden]="!showRescheduleForm">

    <div class="card mmi" style="
         height: min-content;
         padding-top: 20px;
         padding-bottom: 20px;
         color: white;background-color:deepskyblue">

        <div class="container-fluid">
            <form class="form-horizontal" [formGroup]="rescheduleForm">
                <div class="row center">
                    <div class="text-center">
                        <img [src]="c.notepadImg" style="height: 50px;padding-left: 20px;" class="img-fluid" alt="" />
                    </div>
                    <h3 style="color: black; padding-left: 10px">
                        Reschedule your Appointment
                    </h3>
                </div>
                <div class="form-group" style="padding-top: 15px;">
                    <label for="dateOfAppointment" class="col-xs-6 control-label" style="text-align: left;padding-left:50px">
                        Date of Appointment
                    </label>

                    <div class="col-xs-1">
                        <input aria-label="timing" type="date" class="form-control" style="width: 200px;" [ngClass]="{
                               valid: rescheduleForm.controls['appointmentDate'].valid,
                               Invalid:
                               rescheduleForm.controls['appointmentDate'].invalid &&
                               rescheduleForm.controls['appointmentDate'].pristine}"
                               formControlName="appointmentDate" />

                        <div *ngIf="rescheduleForm.controls['appointmentDate'].errors &&
                             rescheduleForm.controls['appointmentDate'].dirty">
                            <div *ngIf="rescheduleForm.controls['appointmentDate'].invalid || rescheduleForm.controls['appointmentDate'].errors?.['required'] || rescheduleForm.controls['appointmentDate'].errors?.['dateCalculator']"
                                 style="color:red">
                                {{ c.appointmentDateError }}
                            </div>
                        </div>
                    </div>
                </div>
                <label style="padding-left:35px">Preffered Slot</label>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xl-6 col-lg-6 col-md-6" style="padding-left: 100px;">
                            <div class="form-check">
                                <input type="radio" name="slot" style="height: auto;" id="inlineRadio1" values="9 AM to 10 AM"
                                       formControlName="slot" />
                                <label class="radio-inline" style="font-size: small;padding-left: 10px;" for=" inlineRadio1">
                                    9 AM to 10 AM
                                </label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="slot" style="height: auto;" id="inlineRadio2" value="10 AM to 11 AM"
                                       formControlName="slot" />
                                <label class="radio-inline" style="font-size: small;padding-left: 10px;" for="inlineRadio2">
                                    10 ΑΜ το 11 AM
                                </label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="slot" style="height: auto;" id="inlineRatio1" value="11 AM to 12 PM"
                                       ForeControlName="slot" />
                                <label class=" radio-inline" style="font-size:small; padding-Left:10px;" for="inlineRatio1">
                                    11 AM to 12 PM
                                </label>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6">
                            <div class="form-check">
                                <input type="radio" name="slot" style="height: auto;" id="inlineRadio2" value="2 PM to 3 PM"
                                       formControlName="slot" />

                                <label class="radio-inline" style="font-size: small;padding-left: 10px;" for="inlineRadio2">
                                    2 PM to 3 PM
                                </label>
                            </div>
                            <div class="form-check">
                                <input aria-label="timing" type="radio" name="slot" style="height: auto;" id="inliheRadio1"
                                       value="3 PM to 4 PM" formControlName="slot" />
                                <label class="radio-inline" style="font-size: small; padding-left: 10px;" for="inlineRadio1">
                                    3 PM to 4 PM
                                </label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="slot" style="height: auto;" id="inlineRadio2" value="4 PM to 5 PM"
                                       formControlName="slot" />
                                <label class="radio-inline" style="font-size: small;padding-left: 10px;" for="inlineRadio">
                                    4 PM to 5 PM
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="center" style="width: 200px; margin: 0 auto;">
                    <button (click)="rescheduleAppointment()" style="background-color:yellow;color: black;"
                            [disabled]="!rescheduleForm.valid">
                        Reschedule Your Appointment
                    </button>
                    </div>
            </form>
        </div>
    </div>
</div>

<!-- --------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------>

<div class="card bg-primary mmi" style="width: 30rem;" [hidden]="!rescheduleSuccess">
  <div class="card-body">
    <h5 class="card-title">{{c.appointmentRescheduled}}</h5>
    <div class="text-center" style="padding-bottom: 18px;">
      <button type="button" style="background-color: rgb(12, 215, 246);width: 100px;" (click)="appointment()"
        class="btn btn-primary">
        Go Back
      </button>
    </div>
  </div>
</div>
